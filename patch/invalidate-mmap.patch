Index: lib/Support/MemoryBuffer.cpp
===================================================================
--- lib/Support/MemoryBuffer.cpp	(revision 315801)
+++ lib/Support/MemoryBuffer.cpp	(working copy)
@@ -287,6 +287,9 @@
   // mmap may leave the buffer without null terminator if the file size changed
   // by the time the last page is mapped in, so avoid it if the file size is
   // likely to change.
+#if 1
+  return false;
+#else
   if (IsVolatile)
     return false;
 
@@ -330,6 +333,7 @@
 #endif
 
   return true;
+#endif
 }
 
 static ErrorOr<std::unique_ptr<MemoryBuffer>>
